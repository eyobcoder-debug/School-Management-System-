<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Director Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: url("backgrounds/News mobile background.png");
            background-size: 100vw 100vh;
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Main Container */
        .dashboard-container {
            width: 100%;
            min-height: 100vh;
            position: relative;
        }

        /* Blur Navigation */
        .nav-blur {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            padding: 20px 40px;
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: none;
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-blur.hidden {
            transform: translateY(-100%);
        }

        .nav-brand {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .nav-brand i {
            font-size: 2rem;
            color: #ffffff;
        }

        .nav-brand h1 {
            font-size: 1.8rem;
            font-weight: 600;
            color: #ffffff;
            text-shadow: 0 2px 10px rgba(255, 255, 255, 0.2);
        }

        .nav-links {
            display: flex;
            gap: 30px;
            align-items: center;
        }

        .nav-link {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            font-size: 1rem;
            font-weight: 500;
            padding: 10px 0;
            position: relative;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-link:hover {
            color: #ffffff;
        }

        .nav-link.active {
            color: #3b82f6;
        }

        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: #3b82f6;
            border-radius: 1px;
        }

        .nav-actions {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .filter-select {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: #ffffff;
            font-size: 0.9rem;
            min-width: 150px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-select:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.3);
        }

        .filter-select:focus {
            outline: none;
            border-color: #3b82f6;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 1.2rem;
        }

        .user-name {
            color: rgba(255, 255, 255, 0.9);
            font-weight: 500;
        }

        /* Horizontal Announcements Container */
        .announcements-container {
            padding: 180px 20px 100px;
            overflow-x: auto;
            overflow-y: hidden;
            height: 100vh;
            scroll-snap-type: x mandatory;
            scrollbar-width: none;
            -ms-overflow-style: none;
            display: flex;
            gap: 0;
            scroll-behavior: smooth;
        }

        .announcements-container::-webkit-scrollbar {
            display: none;
        }

        /* Announcement Slide */
        .announcement-slide {
            flex: 0 0 100vw;
            height: calc(100vh - 280px);
            min-width: 100vw;
            scroll-snap-align: start;
            padding: 40px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .announcement-content {
            width: 90%;
            max-width: 500px;
            background: rgba(255, 255, 255, 0.05);
            border: none;
            border-radius: 20px;
            padding: 40px;
            backdrop-filter: none;
            position: relative;
            transition: transform 0.3s ease;
            backdrop-filter: blur(2px);
        }

        .announcement-content:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.07);
        }

        .announcement-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .announcement-title {
            font-size: 2rem;
            font-weight: 600;
            color: #ffffff;
            line-height: 1.3;
            flex: 1;
        }

        .announcement-meta {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 10px;
        }

        .announcement-status {
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .status-published {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
        }

        .status-scheduled {
            background: rgba(234, 179, 8, 0.2);
            color: #eab308;
        }

        .status-draft {
            background: rgba(59, 130, 246, 0.2);
            color: #3b82f6;
        }

        .announcement-date {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.6);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .announcement-body {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 30px;
        }

        .announcement-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 25px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .audience-tags {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .audience-tag {
            padding: 6px 14px;
            border-radius: 15px;
            font-size: 0.85rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .tag-all {
            background: rgba(59, 130, 246, 0.2);
            color: #3b82f6;
        }

        .tag-teachers {
            background: rgba(139, 92, 246, 0.2);
            color: #8b5cf6;
        }

        .tag-parents {
            background: rgba(14, 165, 233, 0.2);
            color: #0ea5e9;
        }

        .tag-students {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
        }

        .announcement-stats {
            display: flex;
            gap: 20px;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 8px;
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
        }

        .stat-item i {
            font-size: 1rem;
        }

        /* Add Button */
        .add-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 100;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            border: none;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
            transition: all 0.3s ease;
        }

        .add-button:hover {
            transform: scale(1.1);
            box-shadow: 0 12px 30px rgba(59, 130, 246, 0.6);
        }

        /* Scroll Indicators */
        .scroll-indicators {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 100;
        }

        .scroll-indicator {
            width: 40px;
            height: 4px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .scroll-indicator.active {
            background: #3b82f6;
            width: 60px;
        }

        .scroll-hint {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
            text-align: center;
            z-index: 100;
        }

        /* Category Badge */
        .category-badge {
            position: absolute;
            top: -15px;
            left: 30px;
            padding: 8px 20px;
            background: rgba(59, 130, 246, 0.2);
            color: #3b82f6;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .settings-dropdown {
            display: none;
            position: absolute;
            top: 50%;
            right: 0;
            width: 200px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border-radius: 10px;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.2);
            padding: 10px 0;
            z-index: 1001;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .settings-dropdown.active {
            display: block;
        }

        .settings-option {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px 20px;
            color: rgba(255, 255, 255, 0.9);
            text-decoration: none;
            border-radius: 0;
            transition: all 0.3s ease;
        }

        .settings-option:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .settings-option i {
            color: #3b82f6;
            width: 20px;
        }



        /* Responsive Design */
        @media (max-width: 768px) {
        
         .settings-dropdown {
            display: none;
            position: absolute;
            top: 35%;
            right: 0;
            width: 200px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border-radius: 10px;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.2);
            padding: 10px 0;
            z-index: 1001;
            border: 1px solid rgba(255, 255, 255, 0.1);
          }
            .nav-blur {
                padding: 15px 20px;
                flex-direction: column;
                gap: 15px;
                grid-template-areas:
                   "brand user"
                   "links links"
                   "actions actions";
               grid-template-columns: 1fr auto;
            }

            .nav-links {
                width: 100%;
                justify-content: space-between;
                
            }

            .nav-link {
                font-size: 0.9rem;
                padding: 8px 0;
            }

            .nav-actions {
                width: 100%;
                justify-content: space-between;
            }

            .filter-select {
                min-width: 120px;
                padding: 6px 12px;
            }

            .announcements-container {
                padding: 200px 10px 80px;
            }

            .announcement-slide {
                padding: 20px 10px;
            }

            .announcement-content {
                width: 95%;
                padding: 25px;
            }

            .announcement-title {
                font-size: 1.5rem;
            }

            .announcement-header {
                flex-direction: column;
                gap: 15px;
            }

            .announcement-meta {
                align-items: flex-start;
            }

            .announcement-footer {
                flex-direction: column;
                gap: 20px;
                align-items: flex-start;
            }
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .announcement-content {
            animation: fadeInUp 0.6s ease-out;
        }
        
       .nav-blur {
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: auto auto auto;
    row-gap: 15px;
}

/* Grid areas */
.nav-brand { grid-area: brand; }
.nav-links { grid-area: links; }
.nav-actions { grid-area: actions; }
.user-profile { grid-area: user; }    

@media (min-width: 769px) {
    .nav-blur {
        grid-template-areas:
            "brand links user"
            "actions actions actions";
        grid-template-columns: auto 1fr auto;
        row-gap: 20px;
    }

    .nav-links {
        justify-content: center;
    }

    .nav-actions {
        justify-content: center;
    }

    .filters {
        display: flex;
        gap: 20px;
    }
}

    </style>
</head>
<body>
    <div class="dashboard-container">
        <!-- Blur Navigation -->
        <nav class="nav-blur" id="mainNav">
            <div class="nav-brand">
                <i class="fas fa-user-tie"></i>
                <h1>Director</h1>
            </div>

            <div class="nav-links">
                <a href="user approval.html" class="nav-link">
                    <i class="fas fa-user-check"></i>
                    User Approval
                </a>
                <a href="timetable.html" class="nav-link">
                    <i class="fas fa-calendar-alt"></i>
                    School Timetable
                </a>
                <a href="student oversite.html" class="nav-link">
                    <i class="fas fa-user-graduate"></i>
                    Global Student
                </a>
                <a href="#" class="nav-link active">
                    <i class="fas fa-bullhorn"></i>
                    News
                </a>
            </div>

            <div class="nav-actions">
                <div class="filters">
                    <select class="filter-select" id="categoryFilter">
                        <option value="all">All Categories</option>
                        <option value="academic">Academic</option>
                        <option value="events">Events</option>
                        <option value="holidays">Holidays</option>
                        <option value="exams">Exams</option>
                    </select>
                    <select class="filter-select" id="statusFilter">
                        <option value="all">All Status</option>
                        <option value="published">Published</option>
                        <option value="scheduled">Scheduled</option>
                        <option value="draft">Drafts</option>
                    </select>
                    <select class="filter-select" id="timeFilter">
                        <option value="all">All Time</option>
                        <option value="today">Today</option>
                        <option value="week">This Week</option>
                        <option value="month">This Month</option>
                    </select>
                </div>                                
            </div>
            <div class="user-profile" onclick="toggleSettings()">
                <div class="user-avatar">D</div>
                <div class="user-name">Director</div>
                <i class="fas fa-cog"></i>
                
                <!-- Settings Dropdown -->
                <div class="settings-dropdown" id="settingsDropdown">
                    <a href="#" class="settings-option">
                        <i class="fas fa-user-cog"></i>
                        <span>Profile Settings</span>
                    </a>
                    <a href="#" class="settings-option">
                        <i class="fas fa-bell"></i>
                        <span>Notifications</span>
                    </a>
                    <a href="#" class="settings-option">
                        <i class="fas fa-lock"></i>
                        <span>Privacy & Security</span>
                    </a>
                    <a href="#" class="settings-option" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Logout</span>
                    </a>
                </div>            
        </nav>

        <!-- Horizontal Announcements Container -->
        <div class="announcements-container" id="announcementsContainer">
            <!-- Announcement slides will be dynamically generated -->
        </div>

        <!-- Add Button -->
        <button class="add-button" onclick="addNewAnnouncement()">
            <i class="fas fa-plus"></i>
        </button>

        <!-- Scroll Indicators -->
        <div class="scroll-indicators" id="scrollIndicators">
            <!-- Indicators will be dynamically generated -->
        </div>

        <div class="scroll-hint">← Scroll horizontally →</div>
    </div>


    <script>

        // Sample announcements data
        const announcements = [
            {
                id: 1,
                title: "Final Examination Schedule Update",
                content: "Important update regarding the final examination schedule for Grade 10-12 students. Please review the new timetable carefully. All exams will be conducted in the main hall as per the updated schedule. Students are advised to check their exam dates and venues.",
                date: "2023-10-25 09:30",
                status: "published",
                audience: ["all"],
                category: "academic",
                views: 847,
                attachments: 2,
                readTime: "3 min"
            },
            {
                id: 2,
                title: "Annual Sports Day 2023",
                content: "We are excited to announce our Annual Sports Day on November 15th, 2023. All students are encouraged to participate in various events including athletics, team sports, and fun activities. The event will start at 9:00 AM in the school grounds.",
                date: "2023-10-24 14:15",
                status: "published",
                audience: ["all"],
                category: "events",
                views: 523,
                attachments: 1,
                readTime: "2 min"
            },
            {
                id: 3,
                title: "Parent-Teacher Meeting Schedule",
                content: "Scheduled parent-teacher meetings for the second quarter. Please book your preferred time slot through the portal. Each meeting will last 15 minutes and will focus on student progress and academic performance.",
                date: "2023-10-26 10:00",
                status: "scheduled",
                audience: ["parents"],
                category: "academic",
                views: 0,
                attachments: 0,
                readTime: "1 min"
            },
            {
                id: 4,
                title: "Thanksgiving Holiday Notice",
                content: "School will be closed for Thanksgiving from November 23rd to November 27th, 2023. Classes will resume on November 28th. Please ensure all assignments are completed before the holiday break.",
                date: "2023-10-23 16:45",
                status: "published",
                audience: ["all"],
                category: "holidays",
                views: 421,
                attachments: 0,
                readTime: "1 min"
            },
            {
                id: 5,
                title: "Science Fair Project Submissions",
                content: "Deadline for science fair project submissions extended to November 10th, 2023. Please submit through the online portal. All projects must include a research paper and presentation materials.",
                date: "2023-10-22 11:20",
                status: "published",
                audience: ["students", "teachers"],
                category: "academic",
                views: 312,
                attachments: 3,
                readTime: "2 min"
            },
            {
                id: 6,
                title: "Library Renovation Update",
                content: "The school library renovation is progressing well. Expected completion by December 1st, 2023. New digital resources and study spaces will be available. Temporary library services are available in Room 205.",
                date: "2023-10-27 09:00",
                status: "scheduled",
                audience: ["all"],
                category: "general",
                views: 0,
                attachments: 0,
                readTime: "2 min"
            },
            {
                id: 7,
                title: "New Coding Club Launch",
                content: "We're launching a new coding club for students interested in programming. First meeting on November 3rd. Learn Python, web development, and participate in coding competitions.",
                date: "2023-10-21 13:30",
                status: "published",
                audience: ["students"],
                category: "activities",
                views: 189,
                attachments: 1,
                readTime: "2 min"
            },
            {
                id: 8,
                title: "Exam Preparation Workshop",
                content: "Special workshop on exam preparation techniques for Grade 12 students. Limited seats available. Topics include time management, stress reduction, and effective study methods.",
                date: "2023-10-28 14:00",
                status: "scheduled",
                audience: ["students", "parents"],
                category: "academic",
                views: 0,
                attachments: 2,
                readTime: "3 min"
            }
        ];

        // DOM Elements
        const mainNav = document.getElementById('mainNav');
        const announcementsContainer = document.getElementById('announcementsContainer');
        const scrollIndicators = document.getElementById('scrollIndicators');
        const categoryFilter = document.getElementById('categoryFilter');
        const statusFilter = document.getElementById('statusFilter');
        const timeFilter = document.getElementById('timeFilter');
        const navLinks = document.querySelectorAll('.nav-link');

        function logout() {
            localStorage.setItem("isLogined", false);
            localStorage.setItem("loginedAs", null);
            window.location.href = "index.html";
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            if(window.innerWidth > 720) {
                document.body.style.background = `url("backgrounds/News PC background.png")`;
                document.body.style.backgroundSize = `100vw 100vh`;
            }
        });
        let currentFilter = {
            category: 'all',
            status: 'all',
            time: 'all'
        };
        let lastScrollTop = 0;
        let isNavVisible = true;
        let currentSlide = 0;

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            loadAnnouncements();
            setupEventListeners();
            updateScrollIndicators();
            setupHorizontalScroll();
        });

        function loadAnnouncements() {
            announcementsContainer.innerHTML = '';
            
            const filteredAnnouncements = announcements.filter(announcement => {
                // Category filter
                if (currentFilter.category !== 'all' && announcement.category !== currentFilter.category) {
                    return false;
                }
                
                // Status filter
                if (currentFilter.status !== 'all' && announcement.status !== currentFilter.status) {
                    return false;
                }
                
                // Time filter
                if (currentFilter.time !== 'all') {
                    const announcementDate = new Date(announcement.date);
                    const now = new Date();
                    
                    if (currentFilter.time === 'today') {
                        return announcementDate.toDateString() === now.toDateString();
                    } else if (currentFilter.time === 'week') {
                        const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);
                        return announcementDate >= weekAgo;
                    } else if (currentFilter.time === 'month') {
                        const monthAgo = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000);
                        return announcementDate >= monthAgo;
                    }
                }
                
                return true;
            });

            if (filteredAnnouncements.length === 0) {
                const emptySlide = document.createElement('div');
                emptySlide.className = 'announcement-slide';
                emptySlide.innerHTML = `
                    <div class="announcement-content">
                        <div class="announcement-header">
                            <div class="announcement-title">No Announcements Found</div>
                        </div>
                        <div class="announcement-body">
                            No announcements match your current filters. Try adjusting the filter settings.
                        </div>
                    </div>
                `;
                announcementsContainer.appendChild(emptySlide);
            } else {
                filteredAnnouncements.forEach((announcement, index) => {
                    const slide = createAnnouncementSlide(announcement, index);
                    announcementsContainer.appendChild(slide);
                });
            }

            updateScrollIndicators();
        }

        function createAnnouncementSlide(announcement, index) {
            const slide = document.createElement('div');
            slide.className = 'announcement-slide';
            slide.id = `slide-${index}`;
            
            // Format date
            const date = new Date(announcement.date);
            const formattedDate = date.toLocaleDateString('en-US', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });

            // Category labels
            const categoryLabels = {
                academic: 'Academic Update',
                events: 'School Event',
                holidays: 'Holiday Notice',
                general: 'General Announcement',
                activities: 'Activity Update'
            };

            // Audience tags
            let audienceTags = '';
            announcement.audience.forEach(aud => {
                const tagClass = `tag-${aud}`;
                const tagLabel = aud === 'all' ? 'All Users' : 
                               aud === 'teachers' ? 'Teachers' :
                               aud === 'parents' ? 'Parents' : 'Students';
                audienceTags += `
                    <span class="audience-tag ${tagClass}">
                        <i class="fas fa-user${aud === 'all' ? 's' : ''}"></i>
                        ${tagLabel}
                    </span>
                `;
            });

            slide.innerHTML = `
                <div class="announcement-content">
                    <div class="category-badge">
                        <i class="fas fa-tag"></i>
                        ${categoryLabels[announcement.category]}
                    </div>
                    
                    <div class="announcement-header">
                        <div class="announcement-title">${announcement.title}</div>
                        <div class="announcement-meta">
                            <div class="announcement-status status-${announcement.status}">
                                ${announcement.status}
                            </div>
                            <div class="announcement-date">
                                <i class="far fa-calendar"></i> ${formattedDate}
                            </div>
                        </div>
                    </div>

                    <div class="announcement-body">
                        ${announcement.content}
                    </div>

                    <div class="announcement-footer">
                        <div class="audience-tags">
                            ${audienceTags}
                        </div>
                        <div class="announcement-stats">
                            <div class="stat-item">
                                <i class="fas fa-eye"></i> ${announcement.views} views
                            </div>
                            ${announcement.attachments > 0 ? `
                                <div class="stat-item">
                                    <i class="fas fa-paperclip"></i> ${announcement.attachments} file${announcement.attachments !== 1 ? 's' : ''}
                                </div>
                            ` : ''}
                            <div class="stat-item">
                                <i class="fas fa-clock"></i> ${announcement.readTime}
                            </div>
                        </div>
                    </div>
                </div>
            `;

            return slide;
        }

        function updateScrollIndicators() {
            const slides = document.querySelectorAll('.announcement-slide');
            scrollIndicators.innerHTML = '';
            
            slides.forEach((slide, index) => {
                const indicator = document.createElement('div');
                indicator.className = `scroll-indicator ${index === currentSlide ? 'active' : ''}`;
                indicator.addEventListener('click', () => {
                    scrollToSlide(index);
                });
                scrollIndicators.appendChild(indicator);
            });
        }

        function scrollToSlide(index) {
            const slide = document.getElementById(`slide-${index}`);
            if (slide) {
                slide.scrollIntoView({
                    behavior: 'smooth',
                    block: 'center'
                });
                currentSlide = index;
                updateScrollIndicators();
            }
        }

        function setupEventListeners() {
            // Filter changes
            categoryFilter.addEventListener('change', () => {
                currentFilter.category = categoryFilter.value;
                loadAnnouncements();
                scrollToSlide(0);
            });

            statusFilter.addEventListener('change', () => {
                currentFilter.status = statusFilter.value;
                loadAnnouncements();
                scrollToSlide(0);
            });

            timeFilter.addEventListener('change', () => {
                currentFilter.time = timeFilter.value;
                loadAnnouncements();
                scrollToSlide(0);
            });

            // Nav link clicks


            // Hide/show nav on scroll
            announcementsContainer.addEventListener('scroll', () => {
                const scrollLeft = announcementsContainer.scrollLeft;
                const slideWidth = window.innerWidth;
                const newSlide = Math.round(scrollLeft / slideWidth);
                
                if (newSlide !== currentSlide) {
                    currentSlide = newSlide;
                    updateScrollIndicators();
                }
                
                // Hide nav when scrolling horizontally
                if (scrollLeft > lastScrollTop) {
                    if (isNavVisible) {
                        mainNav.classList.add('hidden');
                        isNavVisible = false;
                    }
                } else {
                    if (!isNavVisible) {
                        mainNav.classList.remove('hidden');
                        isNavVisible = true;
   
                    }
                }
                
                lastScrollTop = scrollLeft;
            });

            // Mouse wheel for horizontal scrolling
            announcementsContainer.addEventListener('wheel', (e) => {
                e.preventDefault();
                announcementsContainer.scrollLeft += e.deltaY;
            });

            // Keyboard navigation
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') {
                    scrollToSlide(Math.max(0, currentSlide - 1));
                } else if (e.key === 'ArrowRight') {
                    const slides = document.querySelectorAll('.announcement-slide');
                    scrollToSlide(Math.min(slides.length - 1, currentSlide + 1));
                }
            });
        }

        function setupHorizontalScroll() {
            // Enable smooth horizontal scrolling
            announcementsContainer.style.scrollBehavior = 'smooth';
            
            // Update current slide on scroll end
            announcementsContainer.addEventListener('scrollend', () => {
                const scrollLeft = announcementsContainer.scrollLeft;
                const slideWidth = window.innerWidth;
                currentSlide = Math.round(scrollLeft / slideWidth);
                updateScrollIndicators();
            });
        }

        function toggleSettings() {
            const dropdown = document.getElementById('settingsDropdown');
            dropdown.style.background = "#24482ba0";
            dropdown.classList.toggle('active');
        }

        function addNewAnnouncement() {
            window.location.href = "news add.html";
        }

        // Auto-hide scroll hint after 5 seconds
        setTimeout(() => {
            document.querySelector('.scroll-hint').style.opacity = '0.3';
        }, 5000);
    </script>
</body>
</html>
